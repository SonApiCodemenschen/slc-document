"use strict";(self.webpackChunkdocument=self.webpackChunkdocument||[]).push([[267],{3698:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>o});var l=n(5893),t=n(1151);const s={sidebar_position:3},c="Alert API",i={id:"report/alert",title:"Alert API",description:"GET /widgets/alert",source:"@site/docs/report/alert.md",sourceDirName:"report",slug:"/report/alert",permalink:"/slc-document/docs/report/alert",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/report/alert.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Report an Issue",permalink:"/slc-document/docs/category/report-an-issue"},next:{title:"Team Overview API",permalink:"/slc-document/docs/report/team_overview"}},a={},o=[{value:"T\xe0i kho\u1ea3n: TSVHartberg",id:"t\xe0i-kho\u1ea3n-tsvhartberg",level:6},{value:"1. Controller/action - model",id:"1-controlleraction---model",level:3},{value:"/app/Http/Controllers/WidgetController.php(415): calculate_week_to_week_player_parameter_of_date()",id:"apphttpcontrollerswidgetcontrollerphp415-calculate_week_to_week_player_parameter_of_date",level:5},{value:"app/Http/Controllers/WidgetController.php(443): App\\Models\\Player-&gt;calculateAcuteLoad()",id:"apphttpcontrollerswidgetcontrollerphp443-appmodelsplayer-calculateacuteload",level:5},{value:"app/Http/Controllers/WidgetController.php(404): calculateWellnessScoreOfPlayer()",id:"apphttpcontrollerswidgetcontrollerphp404-calculatewellnessscoreofplayer",level:5},{value:"2. M\xe3 l\u1ec7nh SQL l\u1eb7p",id:"2-m\xe3-l\u1ec7nh-sql-l\u1eb7p",level:3}];function d(e){const r={blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",h5:"h5",h6:"h6",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components},{Details:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h1,{id:"alert-api",children:"Alert API"}),"\n",(0,l.jsxs)(n,{open:!0,children:[(0,l.jsxs)("summary",{children:[(0,l.jsx)("code",{children:"GET"}),(0,l.jsx)("code",{children:(0,l.jsx)("b",{children:"/widgets/alert"})}),(0,l.jsx)(r.h6,{id:"t\xe0i-kho\u1ea3n-tsvhartberg",children:"T\xe0i kho\u1ea3n: TSVHartberg"})]}),(0,l.jsx)("code",{children:(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"V\u1ea5n \u0111\u1ec1 x\u1ea3y ra: L\u1ed7i loop truy v\u1ea5n SQL g\xe2y ch\u1eadm"}),"\n",(0,l.jsx)(r.li,{children:"\u0110\xe1nh gi\xe1: T\u1ed1c \u0111\u1ed9 truy v\u1ea5n m\u1ed7i truy v\u1ea5n ri\xeang l\u1ebb kh\xe1 nhanh, api ch\u1eadm do c\xf3 s\u1ed1 l\u01b0\u1ee3ng l\u1edbn truy v\u1ea5n sql g\u1ecdi tr\u1ef1c ti\u1ebfp \u0111\u1ebfn DB d\xe2y ng\u1eadp l\u1ee5t (sql flood) d\u1eabn \u0111\u1ebfn truy v\u1ea5n ch\u1eadm"}),"\n"]})}),(0,l.jsxs)("code",{children:[(0,l.jsx)(r.p,{children:"Gi\u1ea3i ph\xe1p s\u01a1 b\u1ed9:"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"thay \u0111\u1ed5i logic code, s\u1eed d\u1ee5ng design singleton \u0111\u1ec3 l\u01b0u tr\u1eef Player/User tr\xe1nh truy v\u1ea5n nhi\u1ec1u l\u1ea7n"}),"\n",(0,l.jsx)(r.li,{children:"s\u1eed d\u1ee5ng where in \u0111\u1ec3 l\u1ea5y c\xe1c tham s\u1ed1 trong m\u1ea3ng tr\xe1nh vi\u1ec7c foreach c\xe2u truy v\u1ea5n nhi\u1ec1u l\u1ea7n"}),"\n"]})]})]}),"\n",(0,l.jsxs)(n,{open:!0,children:[(0,l.jsx)(r.h3,{id:"1-controlleraction---model",children:"1. Controller/action - model"}),(0,l.jsx)(r.h5,{id:"apphttpcontrollerswidgetcontrollerphp415-calculate_week_to_week_player_parameter_of_date",children:"/app/Http/Controllers/WidgetController.php(415): calculate_week_to_week_player_parameter_of_date()"}),(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsx)(r.p,{children:"g\u1ecdi 1242 l\u1ea7n h\xe0m calculate_week_to_week_player_parameter_of_date v\u1edbi c\xe1c tham s\u1ed1 \u0111\u1ea7u v\xe0o kh\xe1c nhau"}),"\n"]}),(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsx)(r.p,{children:"g\u1ecdi 14 l\u1ea7n calculate_week_to_week_player_parameter_of_date v\u1edbi c\xf9ng tham s\u1ed1"}),"\n"]}),(0,l.jsx)(r.h5,{id:"apphttpcontrollerswidgetcontrollerphp443-appmodelsplayer-calculateacuteload",children:"app/Http/Controllers/WidgetController.php(443): App\\Models\\Player->calculateAcuteLoad()"}),(0,l.jsx)(r.h5,{id:"apphttpcontrollerswidgetcontrollerphp404-calculatewellnessscoreofplayer",children:"app/Http/Controllers/WidgetController.php(404): calculateWellnessScoreOfPlayer()"})]}),"\n",(0,l.jsxs)(n,{open:!0,children:[(0,l.jsx)(r.h3,{id:"2-m\xe3-l\u1ec7nh-sql-l\u1eb7p",children:"2. M\xe3 l\u1ec7nh SQL l\u1eb7p"}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"players"})," v\u1edbi c\xe1c condition where tr\xf9ng nhau, t\xecm \u0111\u01b0\u1ee3c 113 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select * from `players` where `players`.`id` = 108812 limit 1\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"users"})," v\u1edbi c\xe1c condition where tr\xf9ng nhau, t\xecm \u0111\u01b0\u1ee3c 51 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select * from `users` \nwhere \n    `users`.`id` = 116 and \n    `users`.`deleted_at` is null limit 1\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"users_deactivated_parameters"})," v\u1edbi c\xe1c ",(0,l.jsx)(r.code,{children:"parameter_id"})," kh\xe1c nhau, t\xecm \u0111\u01b0\u1ee3c 83 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select count(*) as aggregate from `users_deactivated_parameters` \nwhere `user_id` = 116 and `parameter_id` = 3374\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"users_parameters"})," v\u1edbi c\xe1c ",(0,l.jsx)(r.code,{children:"parameter_id"})," kh\xe1c nhau, t\xecm \u0111\u01b0\u1ee3c 83 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select * from `users_parameters` \nwhere \n    `users_parameters`.`parameter_id` = 3374 and \n    `users_parameters`.`parameter_id` is not null and \n    `parameter_id` = 3374 and `user_id` = 116 \nlimit 1\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"files"})," v\u1edbi c\xe1c ",(0,l.jsx)(r.code,{children:"files"}),".",(0,l.jsx)(r.code,{children:"id"})," kh\xe1c nhau, t\xecm \u0111\u01b0\u1ee3c 93 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select * from `files` where `files`.`id` = 3384 and `files`.`id` is not null limit 1\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"players_tests"})," v\u1edbi c\xe1c ",(0,l.jsx)(r.code,{children:"player_id"})," kh\xe1c nhau, t\xecm \u0111\u01b0\u1ee3c 50 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select `value` from `players_tests` \nwhere \n    `player_id` = 17027 and \n    `value` is not null and \n    `test_id` = 1 order by `date` desc limit 1\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"acute_chronic_configs"})," v\u1edbi c\xe1c ",(0,l.jsx)(r.code,{children:"parameter_id"})," ",(0,l.jsx)(r.code,{children:"player_id"})," kh\xe1c nhau, t\xecm \u0111\u01b0\u1ee3c 205 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select * from `acute_chronic_configs` \nwhere \n    `acute_chronic_configs`.`user_id` = 116 and \n    `acute_chronic_configs`.`user_id` is not null and \n    `parameter_id` = 3382 and `player_id` = 16999 limit 1\n"})}),(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["T\xecm th\u1ea5y truy v\u1ea5n \u0111\u1ebfn b\u1ea3ng ",(0,l.jsx)(r.code,{children:"questions"})," v\u1edbi c\xe1c ",(0,l.jsx)(r.code,{children:"system_type"})," kh\xe1c nhau, t\xecm \u0111\u01b0\u1ee3c 65 truy v\u1ea5n sql"]}),"\n"]}),(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"select * from `questions` \nwhere \n    `questions`.`user_id` = 116 and \n    `questions`.`user_id` is not null and \n    `system_type` = 'fatigue_and_recovery' limit 1\n"})})]})]})}function h(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},1151:(e,r,n)=>{n.d(r,{Z:()=>i,a:()=>c});var l=n(7294);const t={},s=l.createContext(t);function c(e){const r=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),l.createElement(s.Provider,{value:r},e.children)}}}]);